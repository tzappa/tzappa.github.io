<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Rate Zones Calculator - Tzappa's GitHub Pages</title>
    <link rel="stylesheet" href="running-time-table.css">
</head>
<body>
    <main class="calculator-container">
        <div class="content-wrapper">
            <header>
                <h1 class="main-title">Heart Rate Zones Calculator</h1>
                <p class="section-title" style="text-align: center; margin-top: -1rem;">Calculate your maximum heart rate and training zones based on age</p>
            </header>

            <div class="calculator-layout">
                <section class="calculator-form-section">
                    <article class="card">
                        <h2 class="section-title">Maximum Heart Rate & Zones Calculator</h2>
                        <div class="form-container">
                            <p>Calculate your maximum heart rate using sex-specific formulas:</p>
                            <p><strong>Males:</strong> 208.609 - (0.716 × age)</p>
                            <p><strong>Females:</strong> 209.273 - (0.804 × age)</p>
                            <div class="form-group">
                                <label for="sex">Select your sex:</label>
                                <select id="sex" class="form-control">
                                    <option value="">Select sex</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="age">Enter your age:</label>
                                <input type="number" id="age" class="form-control" min="1" max="120" placeholder="Enter age">
                            </div>
                            <button onclick="calculateHeartRate()" class="calculate-button">Calculate Maximum Heart Rate</button>
                            <div id="result" class="result" style="display: none;">
                                <div class="result-title">Your Maximum Heart Rate</div>
                                <div class="result-value" id="heartRateResult"></div>
                                <div style="margin-top: 1rem; font-size: 0.9rem; color: #d1d5db;">
                                    <p><strong>Note:</strong> This is an estimate. Individual variations may occur.</p>
                                    <p>Consult with healthcare professionals for personalized advice.</p>
                                </div>
                            </div>
                        </div>
                    </article>
                </section>

                <section class="time-table-section">
                    <article class="card">
                        <h2 class="section-title">Heart Rate Zones Reference Table</h2>
                        <div id="currentZones" class="current-zones" style="display: none; margin-bottom: 1.5rem; padding: 1rem; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <h3 style="margin: 0 0 0.5rem 0; color: #3b82f6; font-size: 1.1rem;">Your Current Heart Rate Zones</h3>
                            <div id="currentZonesContent" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.5rem; font-size: 0.9rem;"></div>
                        </div>
                        <div class="time-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th rowspan="2">Age</th>
                                        <th rowspan="2">Sex</th>
                                        <th rowspan="2">Maximum Heart Rate (bpm)</th>
                                        <th>Zone 1 (51-60%)</th>
                                        <th>Zone 2 (61-70%)</th>
                                        <th>Zone 3 (71-80%)</th>
                                        <th>Zone 4 (81-90%)</th>
                                        <th>Zone 5 (91-100%)</th>
                                    </tr>
                                    <tr>
                                        <th style="font-size: 0.8rem; font-weight: 400; color: #9ca3af; padding-top: 0;">Recovery/Easy</th>
                                        <th style="font-size: 0.8rem; font-weight: 400; color: #9ca3af; padding-top: 0;">Aerobic Base</th>
                                        <th style="font-size: 0.8rem; font-weight: 400; color: #9ca3af; padding-top: 0;">Aerobic Threshold</th>
                                        <th style="font-size: 0.8rem; font-weight: 400; color: #9ca3af; padding-top: 0;">Lactate Threshold</th>
                                        <th style="font-size: 0.8rem; font-weight: 400; color: #9ca3af; padding-top: 0;">Neuromuscular Power</th>
                                    </tr>
                                </thead>
                                <tbody id="heartRateTable">
                                    <!-- Table will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </article>
                </section>
            </div>

            <footer style="margin-top: 4rem; text-align: center; font-size: 0.9rem; opacity: 0.7;">
                <p><a href="index.html" style="color: white; text-decoration: none;">← Back to Home</a> | &copy; 2025 Tzappa</p>
            </footer>
        </div>
    </main>

    <script>
        function calculateHeartRate() {
            const age = document.getElementById('age').value;
            const sex = document.getElementById('sex').value;
            
            if (!age || age < 1 || age > 120) {
                alert('Please enter a valid age between 1 and 120');
                hideCurrentZones();
                return;
            }
            
            if (!sex) {
                alert('Please select your sex');
                hideCurrentZones();
                return;
            }

            let maxHeartRate;
            if (sex === 'male') {
                maxHeartRate = 208.609 - (0.716 * age);
            } else if (sex === 'female') {
                maxHeartRate = 209.273 - (0.804 * age);
            }
            
            const result = Math.round(maxHeartRate);
            
            document.getElementById('heartRateResult').textContent = result + ' bpm';
            document.getElementById('result').style.display = 'block';
            
            // Display current heart rate zones
            displayCurrentZones(result, sex, age);
        }

        function hideCurrentZones() {
            document.getElementById('currentZones').style.display = 'none';
        }

        function displayCurrentZones(maxHeartRate, sex, age) {
            // Calculate heart rate zones
            const zone1Min = Math.round(maxHeartRate * 0.51);
            const zone1Max = Math.round(maxHeartRate * 0.60);
            const zone2Min = Math.round(maxHeartRate * 0.61);
            const zone2Max = Math.round(maxHeartRate * 0.70);
            const zone3Min = Math.round(maxHeartRate * 0.71);
            const zone3Max = Math.round(maxHeartRate * 0.80);
            const zone4Min = Math.round(maxHeartRate * 0.81);
            const zone4Max = Math.round(maxHeartRate * 0.90);
            const zone5Min = Math.round(maxHeartRate * 0.91);
            const zone5Max = Math.round(maxHeartRate * 1.00);

            const sexDisplay = sex === 'male' ? 'Male' : 'Female';
            const zonesContent = document.getElementById('currentZonesContent');
            
            zonesContent.innerHTML = `
                <div style="text-align: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
                    <div style="font-weight: 600; color: #f25050; margin-bottom: 0.25rem;">Max HR: ${maxHeartRate} bpm</div>
                    <div style="font-size: 0.8rem; color: #d1d5db;">${sexDisplay}, Age ${age}</div>
                </div>
                <div style="text-align: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">Zone 1</div>
                    <div style="font-size: 0.8rem; color: #d1d5db;">${zone1Min} - ${zone1Max} bpm</div>
                    <div style="font-size: 0.7rem; color: #9ca3af;">51-60%</div>
                    <div style="font-size: 0.6rem; color: #6b7280; margin-top: 0.25rem;">Recovery/Easy</div>
                </div>
                <div style="text-align: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">Zone 2</div>
                    <div style="font-size: 0.8rem; color: #d1d5db;">${zone2Min} - ${zone2Max} bpm</div>
                    <div style="font-size: 0.7rem; color: #9ca3af;">61-70%</div>
                    <div style="font-size: 0.6rem; color: #6b7280; margin-top: 0.25rem;">Aerobic Base</div>
                </div>
                <div style="text-align: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">Zone 3</div>
                    <div style="font-size: 0.8rem; color: #d1d5db;">${zone3Min} - ${zone3Max} bpm</div>
                    <div style="font-size: 0.7rem; color: #9ca3af;">71-80%</div>
                    <div style="font-size: 0.6rem; color: #6b7280; margin-top: 0.25rem;">Aerobic Threshold</div>
                </div>
                <div style="text-align: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">Zone 4</div>
                    <div style="font-size: 0.8rem; color: #d1d5db;">${zone4Min} - ${zone4Max} bpm</div>
                    <div style="font-size: 0.7rem; color: #9ca3af;">81-90%</div>
                    <div style="font-size: 0.6rem; color: #6b7280; margin-top: 0.25rem;">Lactate Threshold</div>
                </div>
                <div style="text-align: center; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: 4px;">
                    <div style="font-weight: 600; margin-bottom: 0.25rem;">Zone 5</div>
                    <div style="font-size: 0.8rem; color: #d1d5db;">${zone5Min} - ${zone5Max} bpm</div>
                    <div style="font-size: 0.7rem; color: #9ca3af;">91-100%</div>
                    <div style="font-size: 0.6rem; color: #6b7280; margin-top: 0.25rem;">Neuromuscular Power</div>
                </div>
            `;
            
            document.getElementById('currentZones').style.display = 'block';
        }

        function populateTable() {
            const tableBody = document.getElementById('heartRateTable');
            tableBody.innerHTML = '';

            for (let age = 20; age <= 70; age += 5) {
                // Calculate for both male and female
                const maleMaxHR = 208.609 - (0.716 * age);
                const femaleMaxHR = 209.273 - (0.804 * age);
                
                const roundedMaleMaxHR = Math.round(maleMaxHR);
                const roundedFemaleMaxHR = Math.round(femaleMaxHR);
                
                // Calculate heart rate zones for male
                const maleZone1Min = Math.round(roundedMaleMaxHR * 0.51);
                const maleZone1Max = Math.round(roundedMaleMaxHR * 0.60);
                const maleZone2Min = Math.round(roundedMaleMaxHR * 0.61);
                const maleZone2Max = Math.round(roundedMaleMaxHR * 0.70);
                const maleZone3Min = Math.round(roundedMaleMaxHR * 0.71);
                const maleZone3Max = Math.round(roundedMaleMaxHR * 0.80);
                const maleZone4Min = Math.round(roundedMaleMaxHR * 0.81);
                const maleZone4Max = Math.round(roundedMaleMaxHR * 0.90);
                const maleZone5Min = Math.round(roundedMaleMaxHR * 0.91);
                const maleZone5Max = Math.round(roundedMaleMaxHR * 1.00);

                // Calculate heart rate zones for female
                const femaleZone1Min = Math.round(roundedFemaleMaxHR * 0.51);
                const femaleZone1Max = Math.round(roundedFemaleMaxHR * 0.60);
                const femaleZone2Min = Math.round(roundedFemaleMaxHR * 0.61);
                const femaleZone2Max = Math.round(roundedFemaleMaxHR * 0.70);
                const femaleZone3Min = Math.round(roundedFemaleMaxHR * 0.71);
                const femaleZone3Max = Math.round(roundedFemaleMaxHR * 0.80);
                const femaleZone4Min = Math.round(roundedFemaleMaxHR * 0.81);
                const femaleZone4Max = Math.round(roundedFemaleMaxHR * 0.90);
                const femaleZone5Min = Math.round(roundedFemaleMaxHR * 0.91);
                const femaleZone5Max = Math.round(roundedFemaleMaxHR * 1.00);

                // Create male row
                const maleRow = document.createElement('tr');
                maleRow.innerHTML = `
                    <td style="font-weight: 500;">${age}</td>
                    <td style="font-weight: 500; color: #3b82f6;">Male</td>
                    <td style="color: #f25050; font-weight: 600;">${roundedMaleMaxHR}</td>
                    <td class="zone1">${maleZone1Min} - ${maleZone1Max}</td>
                    <td class="zone2">${maleZone2Min} - ${maleZone2Max}</td>
                    <td class="zone3">${maleZone3Min} - ${maleZone3Max}</td>
                    <td class="zone4">${maleZone4Min} - ${maleZone4Max}</td>
                    <td class="zone5">${maleZone5Min} - ${maleZone5Max}</td>
                `;
                tableBody.appendChild(maleRow);

                // Create female row
                const femaleRow = document.createElement('tr');
                femaleRow.innerHTML = `
                    <td style="font-weight: 500;">${age}</td>
                    <td style="font-weight: 500; color: #ec4899;">Female</td>
                    <td style="color: #f25050; font-weight: 600;">${roundedFemaleMaxHR}</td>
                    <td class="zone1">${femaleZone1Min} - ${femaleZone1Max}</td>
                    <td class="zone2">${femaleZone2Min} - ${femaleZone2Max}</td>
                    <td class="zone3">${femaleZone3Min} - ${femaleZone3Max}</td>
                    <td class="zone4">${femaleZone4Min} - ${femaleZone4Max}</td>
                    <td class="zone5">${femaleZone5Min} - ${femaleZone5Max}</td>
                `;
                tableBody.appendChild(femaleRow);
            }
        }

        // Populate table when page loads
        document.addEventListener('DOMContentLoaded', populateTable);

        // Allow Enter key to calculate
        document.getElementById('age').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                calculateHeartRate();
            }
        });
        
        document.getElementById('sex').addEventListener('change', function(e) {
            if (e.target.value && document.getElementById('age').value) {
                calculateHeartRate();
            } else if (!e.target.value) {
                hideCurrentZones();
            }
        });
        
        document.getElementById('age').addEventListener('input', function(e) {
            if (!e.target.value) {
                hideCurrentZones();
            }
        });
    </script>
</body>
</html>
